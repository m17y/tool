
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>点豆付|首页</title>
</head> 
<script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="1105325125" data-redirecturi="krsu.me" charset="utf-8"></script>
<script type="text/javascript"
src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" charset="utf-8" data-callback="true"></script>
<button id="qqLoginBtn">222222222222</button>
<script type="text/javascript">
    QC.Login({
       btnId:"qqLoginBtn"    //插入按钮的节点id
});
</script>

<script type="text/javascript">
var paras = {};

QC.api("get_user_info", paras)
	.success(function(s){//成功回调
		alert("获取用户信息成功！当前用户昵称为："+s.data.nickname);
	    var name = s.data.nickname
	    var openId = s.data.
	})
	.error(function(f){//失败回调
		alert("获取用户信息失败！");
	})
	.complete(function(c){//完成请求回调
		alert("获取用户信息完成！");
	});
</script>

<script type="text/javascript">
if(QC.Login.check()){//如果已登录
	QC.Login.getMe(function(openId, accessToken){
		var openId = openId
		var accessToken = accessToken
		
		alert(["当前登录用户的", "openId为："+openId, "accessToken为："+accessToken].join("\n"));
	});
}
</script>

<script type="text/javascript">
if(QC.Login.check()){//如果已登录
	QC.Login.getMe(function(openId, accessToken){
		//转发到网址
		alert(["当前登录用户的", "openId为："+openId, "accessToken为："+accessToken].join("\n"));
	});
	//这里可以调用自己的保存接口
	//...
}
</script>



</body> 
</html>
